        <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
          "http://www.w3.org/TR/html40/loose.dtd">

        <html>
         
        <head>
        <title>Class: MadrigalDB</title>
        </head>

        <body bgcolor="#ffffff">

        <p><i><a href="index.html">Table of Contents</a></i></p>
        
        <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tr bgcolor="#88bbee">
            <th rowspan="2"
                valign="top"
                align="left"
                width="10%"><font color="#000000">Class: MadrigalDB</font>
            </th>
            <th align="right"><font color="#000000">metadata.py</font></th>
        </tr>
        <tr>
        <td>
        <h3>MadrigalDB is an object that provides access to an entire Madrigal database.</h3>
<p>    This object provides complete high-level access to an entire Madrigal database.
    Presently, all its information comes from madrigal.cfg, or another path passed in by the
    user.  If env variable madroot is not set, or if madrigal.cfg cannot be opened, the
    default values automatically editted during installation are used</p>

<p>    Usage example:</p>
<PRE>
        import madrigal.metadata

        try:

            test =  madrigal.metadata.MadrigalDB()

        except madrigal.admin.MadrigalError, e:

            print e.getExceptionStr()

        else:

            print test.toString()

</PRE>

<p>    Non-standard Python modules used:
    None</p>

<p>    MadrigalError exception thrown if:</p>
<ol><li><p>If the constructor is called with an configuration file path as an argument, and that file cannot be
            read.</p>

</li>
<li><p>If the configuration file cannot be parsed by ConfigParser.</p>

</li>
<li><p>If any of the following keys cannot be found in the configuration file:</p>
<p>            *__MAD_SERVER</p>

<p>            *__MAD_SERVERROOT</p>

<p>            *__MAD_SERVERCGI</p>

<p>            *__SITE_ID</p>

<p>            *__HTML_STYLE</p>

<p>            *__INDEX_HEAD</p>

<p>            *__CON_TACTLINK</p>

<p>            *__MAD_SERVERDOCABS</p>


</li></ol>

<p>    Change history:</p>

<p>    Written by <a href="mailto:wrideout@haystack.mit.edu">Bill Rideout</a>  Oct. 4, 2001</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Methods">Methods</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        

            <table border="0" cellspacing="2" cellpadding="2" width="100%">
              <tr>
            <td align="LEFT" valign="TOP">
<a href="#__finishInit">__finishInit</a><br>
<a href="#__getExperiments">__getExperiments</a><br>
<a href="#__getFiles">__getFiles</a><br>
<a href="#__initFromHardCode">__initFromHardCode</a><br>
<a href="#__init__">__init__</a><br>
<a href="#__isValidEmail">__isValidEmail</a><br>
<a href="#__readConfFile">__readConfFile</a><br>
<a href="#__setFileAccess">__setFileAccess</a><br>
<a href="#__str__">__str__</a><br>
<a href="#getBinDir">getBinDir</a><br>
<a href="#getCGIHomeBase">getCGIHomeBase</a><br>
<a href="#getCgiDirPath">getCgiDirPath</a><br>
<a href="#getContactEmail">getContactEmail</a><br>
</td>
<td align="LEFT" valign="TOP">
<a href="#getContactLink">getContactLink</a><br>
<a href="#getDatabaseUtilityDirectory">getDatabaseUtilityDirectory</a><br>
<a href="#getDocDirPath">getDocDirPath</a><br>
<a href="#getExpList">getExpList</a><br>
<a href="#getExperimentDir">getExperimentDir</a><br>
<a href="#getFileList">getFileList</a><br>
<a href="#getFileListFromMetadata">getFileListFromMetadata</a><br>
<a href="#getHtmlStyle">getHtmlStyle</a><br>
<a href="#getIndexHead">getIndexHead</a><br>
<a href="#getLocalRulesOfRoad">getLocalRulesOfRoad</a><br>
<a href="#getMadServer">getMadServer</a><br>
<a href="#getMadroot">getMadroot</a><br>
<a href="#getMadrootEnvVarName">getMadrootEnvVarName</a><br>
</td>
<td align="LEFT" valign="TOP">
<a href="#getMailserver">getMailserver</a><br>
<a href="#getMaxGlobalQueries">getMaxGlobalQueries</a><br>
<a href="#getMaxTempReports">getMaxTempReports</a><br>
<a href="#getMetadataDir">getMetadataDir</a><br>
<a href="#getPythonExecutable">getPythonExecutable</a><br>
<a href="#getRelativeCGI">getRelativeCGI</a><br>
<a href="#getRelativeTopLevel">getRelativeTopLevel</a><br>
<a href="#getSiteID">getSiteID</a><br>
<a href="#getTopLevelUrl">getTopLevelUrl</a><br>
<a href="#getWWWHomeBase">getWWWHomeBase</a><br>
<a href="#setFileAccess">setFileAccess</a><br>
<a href="#tarExperiments">tarExperiments</a><br>
<a href="#toString">toString</a><br>
</td>
</tr>
            </table>
            

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__finishInit"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__finishInit&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__finishInit ( self )

</pre></font>
<h3>__finishInit is a private helper function that finishes initialization by combining attributes to form new ones.</h3>
<p>        Inputs: None</p>

<p>        Returns: Void.</p>

<p>        Affects: Initializes class member variables that are combinations of existing ones.</p>

<p>        Exceptions: None.</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__getExperiments"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__getExperiments&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__getExperiments (
        self,
        arg,
        dirname,
        names,
        )

</pre></font>
<h3>__getExperiment is a private helper function called by os.path.walk in getExpList.</h3>
<p>        __getExperiments is called for each sub-directory in the experiments directory.  Its purpose
        is to add any experiment directory paths from that directory that match the search criteria
        to the expList.</p>

<p>        Inputs:</p>
<p>            arg: a tuple containing all the filter arguments, plus the fileList
            to be appended to.  The tuple elements are:</p>
<p>                expName: a string defining what experiment names to accept (case insensitive).
                Use of unix file matching characters * and ? are allowed.  If None,
                any experiment name allowed.</p>

<p>                kinstList: a list of kinst (kind of instrument codes) integers that will be
                accepted.  If None, all kinst values are accepted.</p>

<p>                startDate: a python datetime in UTC.  If None, do not reject any files.</p>

<p>                endDate: a python datetime in UTC.  If None, do not reject any files.</p>

<p>                startDayOfYear: a Julian day number (1-366) after which to accept files from
                any given year.  This can be used for example to only allow files from Spring,
                which has a start day of year of 80 (March 21). If None, do not
                reject any files.</p>

<p>                endDayOfYear: a Julian day number (1-366) before which to accept files from
                any given year.  This can be used for example to only allow files from Spring,
                which has a end day of year of 172 (June 21). If None, do not
                reject any files.</p>

<p>                expList:  the list of valid experiment paths to which is appended any newly-found
                valid experiment directories</p>

<p>                showIgnoredExperiments: if False (default), ignore experiments where expTab.txt state code
                is set to ignore.  If True, include those experiments.</p>

<p>                enforcePathConvention: if True, only return experiments whose path is of the form
                convention 1999/mlh/20jan98d (YYYY/&lt;three lower case letters&gt;/DDmmmYY&lt;optional
                single character&gt;. If False (the default), only required path in the form 1999/mlh/*.</p>


<p>            dirname: the directory name of the present directory</p>

<p>            names:  the list of filenames in the present directory</p>


<p>        Returns: None.</p>

<p>        Affects: Adds full file paths of any data files found that meet all filter criteria</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__getFiles"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__getFiles&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__getFiles (
        self,
        arg,
        dirname,
        names,
        )

</pre></font>
<h3>__getFiles is a private helper function called by os.path.walk in getFileList.</h3>
<p>        __getFiles is called for each sub-directory in the experiments directory.  Its purpose
        is to add any file paths from that directory that match the search criteria
        to the fileList.</p>

<p>        Inputs:</p>
<p>            arg: a tuple containing all the filter arguments, plus the fileList
            to be appended to.  The tuple elements are:</p>
<p>                expName: a string defining what experiment names to accept (case insensitive).
                Use of unix file matching characters * and ? are allowed.  If None,
                any experiment name allowed.</p>

<p>                kinstList: a list of kinst (kind of instrument codes) integers that will be
                accepted.  If None, all kinst values are accepted.</p>

<p>                kindatList: a list of kindat (kind of data codes) integers that will be
                accepted.  If None, all kindat values are accepted.</p>

<p>                startDate: a python date/time in UTC (see time module - actually a tuple of nine integers)
                after which to accept files.  If None, do not reject any files.</p>

<p>                endDate: a python date/time in UTC (see time module - actually a tuple of nine integers)
                before which to accept files.  If None, do not reject any files.</p>

<p>                startDayOfYear: a Julian day number (1-366) after which to accept files from
                any given year.  This can be used for example to only allow files from Spring,
                which has a start day of year of 80 (March 21). If None, do not
                reject any files.</p>

<p>                endDayOfYear: a Julian day number (1-366) before which to accept files from
                any given year.  This can be used for example to only allow files from Spring,
                which has a end day of year of 172 (June 21). If None, do not
                reject any files.</p>

<p>                fileList:  the list of valid file paths to which is appended any newly-found
                valid file paths</p>

<p>                publicAccessOnly: if 1, only return files marked in fileTab.txt and expTab.txt
                as public.  If 0, return all non-archive files. If 2, return public
                and public archive experiments with public files.  If 3, return all files,
                including public, private, archived, and private archived. </p>

<p>                enforcePathConvention: if 1, only return experiments whose path is of the form
                convention 1999/mlh/20jan98d (YYYY/&lt;three lower case letters&gt;/DDmmmYY&lt;optional
                single character&gt;. If 0 (the default), only require paths to be in the form 1999/mlh/*.</p>

<p>                includeNonDefault: if 1, also include data files that are not default files
                in they match all other criteria. If 0 (the default), exclude non-default.</p>

<p>                includeNonMadrigal: if 1, include all experiment files that are not in
                fileTab.txt.  If 0, (the default) limit data files to those in fileTab.txt.</p>

<p>                appendKinst: if 1, append kind of instrument integer to each file name, so that
                what is returned is a list of (file name, inst code) tuples. If 0 (the default),
                do not append instrument code; return a list of file names.</p>

<p>                appendStartTime: if 1, append start time in seconds since 1950 to each file name, so that
                what is returned is a list of (file name, startTime) tuples. If 0 (the default),
                do not append startTimes.</p>

<p>                includeRealtime: if 1, include realtime files even if includeNonDefault = 0.  If 0
                (default), do not include realtime if includeNonDefault = 0.</p>


<p>            dirname: the directory name of the present directory</p>

<p>            names:  the list of filenames in the present directory</p>


<p>        Returns: None.</p>

<p>        Affects: Adds full file paths of any data files found that meet all filter criteria</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__initFromHardCode"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__initFromHardCode&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__initFromHardCode ( self )

</pre></font>
<h3>__initFromHardCode is a private helper function that reads information from the automatically editted lines.</h3>
<p>        Inputs: None</p>

<p>        Returns: Void.</p>

<p>        Affects: Initializes class member variables that are found in the constants at the top of this file.
        These constants were set during installation.</p>

<p>        Exceptions: None.</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__init__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__init__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__init__ ( self,  initFile=None )

</pre></font>
<h3>__init__ initializes the MadrigalDB by reading from $MAD_ROOT/madrigal.cfg (or initString).</h3>
<p>        Inputs: String representing the full path to the configuration file. Default is None, in
                which case configuration file is $(__MAD_ROOT)/__confFileName (now madrigal.cfg).</p>

<p>        Returns: void</p>

<p>        Affects: Initializes all the class member variables.</p>

<p>        Exceptions: MadrigalError thrown if error (see class description for specific conditions).</p>

<p>        Notes:</p>
<p>            Given the file $MAD_ROOT/madrigal.cfg (these names are set by constants above), or initFile,
            this constructor goes about loading some basic data about the database, including information such as:</p>

<p>            -the database utility directory</p>

<p>            -the www home base</p>

<p>            -the cgi home base</p>

<p>            Implemented using ConfigParser module.  This reads ini type files.  The only difference between
            ini files and madrigal.cfg is that ini files are broken into sections of the form:</p>

<p>            <a href="#sectionTitle">[sectionTitle]</a></p>

<p>            key1 = value1</p>

<p>            key2 = value2</p>

<p>            Since madrigal.cfg (or another initFile) has no section header, one section head called &quot;madrigal&quot;
            is appended to the beginning of the file.</p>



<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError("Unable to parse configuration file " + self.__confFilePath, traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__isValidEmail"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__isValidEmail&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__isValidEmail ( self,  emailStr )

</pre></font>
<h3>__isValidEmail is a private helper function that does some checking to ensure a valid email address was found.</h3>
<p>        Inputs: emailStr - email address string to verify</p>

<p>        Returns: 1 if no problems, 0 if not valid.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__readConfFile"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__readConfFile&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__readConfFile ( self )

</pre></font>
<h3>__readConfFile is a private helper function that reads information from the parsed config file.</h3>
<p>        Inputs: None</p>

<p>        Returns: Void.</p>

<p>        Affects: Initializes class member variables that are found in the config file.</p>

<p>        Exceptions: MadrigalError thrown if any key not found.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError("Unable to find key " + self.__CON_TACTLINK + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__HTML_STYLE + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__INDEX_HEAD + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__MAD_SERVER + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__MAD_SERVERCGI + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__MAD_SERVERCGIABS + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__MAD_SERVERDOCABS + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__MAD_SERVERROOT + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>
madrigal.admin.MadrigalError("Unable to find key " + self.__SITE_ID + " in configuration file due to ConfigParser error", traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__setFileAccess"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__setFileAccess&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__setFileAccess (
        self,
        arg,
        dirname,
        names,
        )

</pre></font>
<h3>setFileAccess is a private helper function called by os.path.walk in setFileAccess.</h3>
<p>        Inputs:</p>
<p>            arg: either 0 for public access, or 1 for private access.</p>

<p>            dirname: the directory name of the present directory</p>

<p>            names:  the list of filenames in the present directory</p>


<p>        Returns: None</p>

<p>        Affects: sets all fileTab.txt files in dirname to be public or private, depending on arg.</p>

<p>        Exceptions: None.</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__str__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__str__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__str__ ( self )

</pre></font>
<p>__str__ simply calls toString</p>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getBinDir"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getBinDir&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getBinDir ( self )

</pre></font>
<h3>getBinDir returns the madrigal bin directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: The madrigal bin directory path. (eg /opt/madrigal/bin)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getCGIHomeBase"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getCGIHomeBase&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getCGIHomeBase ( self )

</pre></font>
<h3>getCGIHomeBase returns the full url to the cgi directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: String representing the full url to the cgi directory.
        (eg, http://haystack.mit.edu/cgi-bin/madrigal)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getCgiDirPath"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getCgiDirPath&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getCgiDirPath ( self )

</pre></font>
<h3>getCgiDirPath returns the directory path to the main madrigal cgi-bin directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: the directory path to the main madrigal cgi-bin directory.
        (eg, &quot;/export/home/httpd/apache/cgi-bin/madrigal&quot;)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getContactEmail"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getContactEmail&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getContactEmail ( self )

</pre></font>
<h3>getContactEmail returns the email address of the site administrator.</h3>
<p>        Inputs: None</p>

<p>        Returns: The email address of the site administrator.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getContactLink"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getContactLink&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getContactLink ( self )

</pre></font>
<h3>getContactLink returns contact email link tag (see getContactEmail for the email alone).</h3>
<p>        Inputs: None</p>

<p>        Returns: The contact email link tag.
        (eg. &lt;A HREF=&quot;MAILTO:brideout@haystack.mit.edu&quot;&gt;madrigal@haystack&lt;/A&gt;&lt;BR&gt;)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getDatabaseUtilityDirectory"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getDatabaseUtilityDirectory&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getDatabaseUtilityDirectory ( self )

</pre></font>
<h3>getDatabaseUtilityDirectory returns the full path to the database utility directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: String representing the full path to the database utility directory. (eg,
        /opt/madrigal/bin)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getDocDirPath"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getDocDirPath&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getDocDirPath ( self )

</pre></font>
<h3>getDocDirPath returns the directory path to the main madrigal html directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: the directory path to the main madrigal html directory.
        (eg, &quot;/export/home/httpd/apache/htdocs/madrigal&quot;)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpList"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpList&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpList (
        self,
        expName=None,
        kinstList=None,
        startDate=None,
        endDate=None,
        startDayOfYear=None,
        endDayOfYear=None,
        showIgnoredExperiments=False,
        enforcePathConvention=False,
        )

</pre></font>
<h3>getExpList returns a list of full experiment directory names that match the search arguments.</h3>
<p>        Inputs:</p>
<p>            expName: a string defining what experiment names to accept (case insensitive).
            Use of unix file matching characters * and ? are allowed.  If None (default),
            any experiment name allowed.</p>

<p>            kinstList: a list of kinst (kind of instrument codes) integers that will be
            accepted.  If None (default) or if list contains 0, all kinst values are accepted.</p>

<p>            startDate: a datetime date.  If None (default), do not reject any experiments.</p>

<p>            endDate: a datetime date.  If None (default), do not reject any experiments.</p>

<p>            startDayOfYear: a Julian day number (1-366) after which to accept experiments from
            any given year.  This can be used for example to only allow files from Spring,
            which has a start day of year of 80 (March 21). If None (default), do not
            reject any experiments.</p>

<p>            endDayOfYear: a Julian day number (1-366) before which to accept experiments from
            any given year.  This can be used for example to only allow files from Spring,
            which has a end day of year of 172 (June 21). If None (default), do not
            reject any experiments.</p>

<p>            showIgnoredExperiments: if False (default), ignore experiments where expTab.txt state code
            is set to ignore.  If True, include those experiments.</p>

<p>            enforcePathConvention: if True, only return experiments whose path is of the form
            convention 1999/mlh/20jan98d (YYYY/&lt;three lower case letters&gt;/DDmmmYY&lt;optional
            single character&gt;. If False (the default), only required path in the form 1999/mlh/*.</p>


<p>        Returns: a list of full experiment directory names that match the search arguments</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExperimentDir"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExperimentDir&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExperimentDir ( self )

</pre></font>
<h3>getExperimentDir returns the experiment directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: The full experiment directory path. (eg. /opt/madrigal/experiments)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getFileList"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getFileList&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getFileList (
        self,
        expName=None,
        kinstList=None,
        kindatList=None,
        startDate=None,
        endDate=None,
        startDayOfYear=None,
        endDayOfYear=None,
        publicAccessOnly=3,
        enforcePathConvention=0,
        includeNonDefault=0,
        includeNonMadrigal=0,
        appendKinst=0,
        appendStartTime=0,
        includeRealtime=0,
        )

</pre></font>
<h3>getFileList returns a list of full file names that match the search arguments.</h3>
<p>        Inputs:</p>
<p>            expName: a string defining what experiment names to accept (case insensitive).
            Use of unix file matching characters * and ? are allowed.  If None (default),
            any experiment name allowed.</p>

<p>            kinstList: a list of kinst (kind of instrument codes) integers that will be
            accepted.  If None (default) or if list contains 0, all kinst values are accepted.</p>

<p>            kindatList: a list of kindat (kind of data codes) integers that will be
            accepted.  If None (default) or if list contains 0, all kindat values are accepted.</p>

<p>            startDate: a python date (see time module - actually a tuple of nine integers)
            after which to accept files.  If None (default), do not reject any files.</p>

<p>            endDate: a python date (see time module - actually a tuple of nine integers)
            before which to accept files.  If None (default), do not reject any files.</p>

<p>            startDayOfYear: a Julian day number (1-366) after which to accept files from
            any given year.  This can be used for example to only allow files from Spring,
            which has a start day of year of 80 (March 21). If None (default), do not
            reject any files.</p>

<p>            endDayOfYear: a Julian day number (1-366) before which to accept files from
            any given year.  This can be used for example to only allow files from Spring,
            which has a end day of year of 172 (June 21). If None (default), do not
            reject any files.</p>

<p>            publicAccessOnly: if 1, only return files marked in fileTab.txt and expTab.txt
            as public.  If 0, return all non-archive files. If 2, return public
            and public archive experiments with public files.  If 3, return all files,
            including public, private, archived, and private archived. (the default)</p>

<p>            enforcePathConvention: if 1, only return experiments whose path is of the form
            convention 1999/mlh/20jan98d (YYYY/&lt;three lower case letters&gt;/DDmmmYY&lt;optional
            single character&gt;. If 0 (the default), only require paths to be in the form 1999/mlh/*.</p>

<p>            includeNonDefault: if 1, also include data files that are not default files
            in they match all other criteria. If 0 (the default), exclude non-default.</p>

<p>            includeNonMadrigal: if 1, include all experiment files that are not in
            fileTab.txt.  If 0, (the default) limit data files to those in fileTab.txt.</p>

<p>            appendKinst: if 1, append kind of instrument integer to each file name, so that
            what is returned is a list of (file name, inst code) tuples. If 0 (the default),
            do not append instrument code; return a list of file names.</p>

<p>            appendStartTime: if 1, append start time in seconds since 1950 to each file name, so that
            what is returned is a list of (file name, startTime) tuples. If 0 (the default),
            do not append startTimes.</p>

<p>            includeRealtime: if 1, include realtime files even if includeNonDefault = 0.  If 0
            (default), do not include realtime if includeNonDefault = 0.</p>


<p>        Returns: a list of full path file names (strings) that match the search arguments</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getFileListFromMetadata"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getFileListFromMetadata&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getFileListFromMetadata (
        self,
        expName=None,
        kinstList=None,
        kindatList=None,
        startDate=None,
        endDate=None,
        startDayOfYear=None,
        endDayOfYear=None,
        publicAccessOnly=3,
        includeNonDefault=0,
        appendKinst=0,
        appendStartTime=0,
        includeRealtime=0,
        )

</pre></font>
<h3>getFileListFromMetadata returns a list of full file names that match the search arguments using metadata only.</h3>
<p>        This method is very similar to getFileList, except that it assumes the metadata is correct, and doesn't
        search the actual experiment directories.  It is therefore faster, but less robust.</p>

<p>        Inputs:</p>
<p>            expName: a string defining what experiment names to accept (case insensitive).
            Use of unix file matching characters * and ? are allowed.  If None (default),
            any experiment name allowed.</p>

<p>            kinstList: a list of kinst (kind of instrument codes) integers that will be
            accepted.  If None (default) or if list contains 0, all kinst values are accepted.</p>

<p>            kindatList: a list of kindat (kind of data codes) integers that will be
            accepted.  If None (default) or if list contains 0, all kindat values are accepted.</p>

<p>            startDate: a python date (see time module - actually a tuple of nine integers)
            after which to accept files.  If None (default), do not reject any files.</p>

<p>            endDate: a python date (see time module - actually a tuple of nine integers)
            before which to accept files.  If None (default), do not reject any files.</p>

<p>            startDayOfYear: a Julian day number (1-366) after which to accept files from
            any given year.  This can be used for example to only allow files from Spring,
            which has a start day of year of 80 (March 21). If None (default), do not
            reject any files.</p>

<p>            endDayOfYear: a Julian day number (1-366) before which to accept files from
            any given year.  This can be used for example to only allow files from Spring,
            which has a end day of year of 172 (June 21). If None (default), do not
            reject any files.</p>

<p>            publicAccessOnly: if 1, only return files marked in fileTab.txt and expTab.txt
            as public.  If 0, return all non-archive files. If 2, return public
            and public archive experiments with public files.  If 3, return all files,
            including public, private, archived, and private archived. (the default)</p>

<p>            includeNonDefault: if 1, also include data files that are not default files
            in they match all other criteria. If 0 (the default), exclude non-default.</p>

<p>            appendKinst: if 1, append kind of instrument integer to each file name, so that
            what is returned is a list of (file name, inst code) tuples. If 0 (the default),
            do not append instrument code; return a list of file names.</p>

<p>            appendStartTime: if 1, append start time in seconds since 1950 to each file name, so that
            what is returned is a list of (file name, startTime) tuples. If 0 (the default),
            do not append startTimes.</p>

<p>            includeRealtime: if 1, include realtime files even if includeNonDefault = 0.  If 0
            (default), do not include realtime if includeNonDefault = 0.</p>


<p>        Returns: a list of full path file names (strings) that match the search arguments, and possibly kinst and
        starttime.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getHtmlStyle"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getHtmlStyle&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getHtmlStyle ( self )

</pre></font>
<h3>getHtmlSyle returns the default html body tag for the site.</h3>
<p>        Inputs: None</p>

<p>        Returns: The default html body tag for the site.
        (eg. &lt;BODY BGCOLOR=#FFFF88 LINK=#008000 VLINK=#003366&gt;)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getIndexHead"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getIndexHead&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getIndexHead ( self )

</pre></font>
<h3>getIndexHead returns the heading of the top level madrigal page.</h3>
<p>        Inputs: None</p>

<p>        Returns: The heading of the top level madrigal page.
        (eg. Welcome to the Madrigal Database &lt;BR&gt; at Ishtar)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getLocalRulesOfRoad"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getLocalRulesOfRoad&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getLocalRulesOfRoad ( self )

</pre></font>
<h3>getLocalRulesOfRoad returns the local rules of the road.</h3>
<p>        Inputs: None</p>

<p>        Returns: If the file madroot/local_rules_of_the_road.txt exists, returns the text of that.
        Else returns a default rules_of_road statement</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getMadServer"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getMadServer&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getMadServer ( self )

</pre></font>
<h3>getMadServer returns the full name of the madrigal server (eg, haystack.mit.edu).</h3>
<p>        Inputs: None</p>

<p>        Returns: String representing the url to the main database website.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getMadroot"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getMadroot&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getMadroot ( self )

</pre></font>
<h3>getMadroot returns the value of the environment variable __MAD_ROOT.</h3>
<p>        Inputs: None</p>

<p>        Returns: The value of the environment variable __MAD_ROOT.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getMadrootEnvVarName"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getMadrootEnvVarName&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getMadrootEnvVarName ( self )

</pre></font>
<h3>getMadrootEnvVarName returns the name of the environment variable __MAD_ROOT (presently = MAD_ROOT).</h3>
<p>        Inputs: None</p>

<p>        Returns: The name of the environment variable __MAD_ROOT.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getMailserver"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getMailserver&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getMailserver ( self )

</pre></font>
<h3>getMailserver returns the mailserver name.</h3>
<p>        Inputs: None</p>

<p>        Returns: The mailserver name.  If this heading is not found in madrigal.cfg, no
        error is thrown - simply defaults to localhost</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getMaxGlobalQueries"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getMaxGlobalQueries&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getMaxGlobalQueries ( self )

</pre></font>
<h3>getMaxGlobalQueries returns the maximum number of global queries as an integer.</h3>
<p>        Inputs: None</p>

<p>        Returns: The maximum number of global queries as an int.  If this heading is not found in madrigal.cfg, no
        error is thrown - simply defaults to 2</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getMaxTempReports"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getMaxTempReports&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getMaxTempReports ( self )

</pre></font>
<h3>getMaxTempReports returns the maximum size of the tempReports dir in GB as a float.</h3>
<p>        Inputs: None</p>

<p>        Returns: The maximum nsize of the tempReports dir in GB as a float.  If this heading is not found in madrigal.cfg, no
        error is thrown - simply defaults to 2</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getMetadataDir"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getMetadataDir&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getMetadataDir ( self )

</pre></font>
<h3>getMetadataDir returns the metadata directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: The full metadata directory path. (eg. /opt/madrigal/metadata)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getPythonExecutable"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getPythonExecutable&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getPythonExecutable ( self )

</pre></font>
<h3>getPythonExecutable returns the full path to the python executable.</h3>
<p>        Inputs: None</p>

<p>        Returns: the full path to the python executable.  If this heading is not
        found in madrigal.cfg, no error is thrown - simply defaults to
        madroot/bin/python</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getRelativeCGI"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getRelativeCGI&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getRelativeCGI ( self )

</pre></font>
<h3>getRelativeCGI returns the relative url to the cgi directory.</h3>
<p>        Inputs: None</p>

<p>        Returns: String representing the relative url to the cgi directory. (eg, cgi-bin/madrigal)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getRelativeTopLevel"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getRelativeTopLevel&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getRelativeTopLevel ( self )

</pre></font>
<h3>getRelativeTopLevel returns the relative url of the top level directory in main database website.</h3>
<p>        Inputs: None</p>

<p>        Returns: String representing the relative url to the top level directory in main database website.
        (eg, madrigal)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSiteID"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSiteID&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSiteID ( self )

</pre></font>
<h3>getSiteID returns the site id number.</h3>
<p>        Inputs: None</p>

<p>        Returns: The site id (integer) of the madrigal installation.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: If non-integer found</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError("Site id not an integer in madrigal configuration file " + self.__confFile, traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getTopLevelUrl"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getTopLevelUrl&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getTopLevelUrl ( self )

</pre></font>
<h3>getTopLevelUrl returns the full url of the top level directory in main database website.</h3>
<p>        Inputs: None</p>

<p>        Returns: String representing the full url to the top level directory in main database website.
        (eg, http://haystack.mit.edu/madrigal)</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getWWWHomeBase"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getWWWHomeBase&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getWWWHomeBase ( self )

</pre></font>
<h3>getWWWHomeBase returns the url to the main database website(eg, http://haystack.mit.edu).</h3>
<p>        Inputs: None</p>

<p>        Returns: String representing the url to the main database website.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setFileAccess"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setFileAccess&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setFileAccess (
        self,
        expDirectory,
        accessMode,
        )

</pre></font>
<h3>setFileAccess sets all fileTab.txt files in all subdirectories of expDirectory to be public or private.</h3>
<p>        Inputs:</p>
<p>            expDirectory:  The full path to a directory in the experiment directory.  That is, it
            may be madroot/experiments or any directory under it.</p>

<p>            accessMode: either 0 for public access, or 1 for private access.</p>


<p>        Returns: None</p>

<p>        Affects: sets all fileTab.txt files in all subdirectories of expDirectory to be public or private.</p>

<p>        Exceptions: If accessMode is not 1 or 0.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError( 'MadrigalDB.setFileAccess called with accessMode = ' + str( accessMode ) + ', must be either 0 or 1', None )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="tarExperiments"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">tarExperiments&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
tarExperiments (
        self,
        tarFileName,
        startDate=None,
        endDate=None,
        excludePrivData=0,
        ignoreDirCon=1,
        includeNonDefData=0,
        onlyData=0,
        filetype=0,
        verbose=0,
        )

</pre></font>
<h3>tarExperiments creates a tar file containing files from madroot/experiments.</h3>
<p>        Note:  this method sometimes requires the modification of the fileTab.txt
        files found in the experiments directory.  This is because some data files might be
        excluded, so that the fileTab.txt file will no longer be accurate.  Because of this,
        all files to be tar'ed will be copied to /tmp/temp&lt;random num&gt;/experiments,
        where the fileTab.txt files will be modified.  When done, this temp dir will be deleted.</p>

<p>        Inputs:</p>
<p>            tarFileName:  The full path to a tar file to be created.</p>

<p>            startDate: a python date (see time module - actually a tuple of nine integers)
            after which to accept files.  If None (default), do not reject any files.</p>

<p>            endDate: a python date (see time module - actually a tuple of nine integers)
            before which to accept files.  If None (default), do not reject any files.</p>

<p>            excludePrivData: if 1, allow data marked as private to be omitted (and the line
            from the fileTab.txt to be removed).  If 0 (the default), all data, public and
            private, will be included.</p>

<p>            ignoreDirCon: if 1, ignore convention that directory must be in form
            1999/mlh/03sep99 (the default).  If 0 , reject non-standard directories.</p>

<p>            includeNonDefData:  if 1, include all files listed in fileTab.txt. If 0 (the default),
            reject non-default files, and modify fileTab.txt to remove non-default listings.</p>

<p>            onlyData: if 1, reject all files not listed in fileTab.txt.  If 0 (the default),
            accept all files in a directory not mentioned in fileTab.txt.</p>

<p>            filetype: format to save data files as.  Default 0 is to leave present format unchanged.
            &lt;type&gt; is an integer as follows:</p>
<p>                type = 0  Leave present format unchanged (default)</p>

<p>                type = 1  Madrigal</p>

<p>                type = 2  Blocked Binary</p>

<p>                type = 3  Cbf</p>

<p>                type = 4  Unblocked binary</p>

<p>                type = 5  Ascii</p>


<p>            verbose: if 1, print to std out the list of files included (relative path).  If 0,
            (the default) print nothing.</p>


<p>        Returns: None</p>

<p>        Affects: created tar file tarFileName of selected files from madroot/experiments. </p>

<p>        Exceptions: If unable to read any experiment file.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError( 'Unable to tar experiments because denied write permission ' + 'for ' + str( filename ), None )<br>
madrigal.admin.MadrigalError( 'Unable to tar experiments because denied write permission ' + 'for ' + str(os.path.dirname( filename ) ), None )<br>
madrigal.admin.MadrigalError('In tarExperiments could not remove dir ' + tempDir, traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="toString"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">toString&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
toString ( self )

</pre></font>
<h3>toString returns a simple string representation of a MadrigalDB object.</h3>
<p>        Inputs: None</p>

<p>        Returns: String describing a simple representation of a MadrigalDB object.</p>

<p>        Affects: Nothing</p>

<p>        Exceptions: None</p>


</td></tr>
</td></tr>
</table>

        </td>
        </tr>
        </table>

        <hr>

        <p><i><a href="index.html">Table of Contents</a></i></p>

        <font size="-2"><i>This document was automatically generated
        on Tue Mar 17 10:13:25 2009 by
        <a href="http://happydoc.sourceforge.net">HappyDoc</a> version
        r1_5</i></font>
        
        </body>
        </html>
        