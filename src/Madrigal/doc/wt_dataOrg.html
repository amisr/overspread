<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/doc_template.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>Madrigal data organization</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
<link href="madrigal.css" rel="stylesheet" type="text/css" />
<!-- InstanceParam name="href_up_top" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_next_top" type="text" value="wt_accessData.html" --><!-- InstanceParam name="href_back_top" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_back_bottom" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_up_bottom" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_next_bottom" type="text" value="wt_accessData.html" --><!-- InstanceParam name="href_prev_top" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_uptitle_top" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_nexttitle_top" type="text" value="wt_accessData.html" --><!-- InstanceParam name="href_prevtitle_bottom" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_uptitle_bottom" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_nexttitle_bottom" type="text" value="wt_accessData.html" -->
</head>

<body>
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="wt_whatIsMadrigal.html"><img src="icons/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="wt_contents.html"><img src="icons/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="wt_accessData.html"><img src="icons/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleTop" -->How does Madrigal organize data?<!-- InstanceEndEditable --></td>
    <td width="13%"><a href="/MADSERVERROOT/madContents.html">Doc home </a></td>
    <td width="18%"><a href="/MADSERVERROOT">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="wt_whatIsMadrigal.html"><!-- InstanceBeginEditable name="PreviousTitle" -->What is Madrigal?<!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="wt_contents.html"><!-- InstanceBeginEditable name="UpTitle" -->Web Tutorial - TOC <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="wt_accessData.html"><!-- InstanceBeginEditable name="NextTitle" -->Access data through the web <!-- InstanceEndEditable --></A></div>
<hr/>
<!-- InstanceBeginEditable name="EditDoc" -->
<h1 align="center">How does Madrigal organize data?</h1>
<p align="left">Understanding the organization of Madrigal data will help you understand the logic behind the way data is accessed through the web. In this section of the tutorial, a brief overview of the organization of Madrigal data is given, all the way from the highest level (a Madrigal site holding data from one group's instrument(s)) to the lowest level (a single measured value).</p>
<table width="100%"  border="0">
  <tr>
    <td width="33%">A high level view of the Madrigal data model. </td>
    <td width="67%"><img src="icons/data_model.png" alt="Madrigal data organization chart" width="503" height="346" /></td>
  </tr>
</table>
<h4 align="left">Madrigal Site</h4>
<p align="left">The highest level of Madrigal is a Madrigal site. A Madrigal site is one particular web site controlled by one particular group, that holds all their own data. At the moment, there are Madrigal sites at 
<a href="http://www.haystack.mit.edu/madrigal">Millstone Hill</a>, USA, 
<a href="http://www.eiscat.se/madrigal/">EISCAT</a>, Sweden, 
<a href="http://madrigal.naic.edu/madrigal/">Arecibo</a>, Puerto Rico,
<a href="http://isr.sri.com/madrigal">SRI International</a>, USA, 
<a href="http://landau.geo.cornell.edu/madrigal">Cornell University</a>, USA, 
<a href="http://jro.igp.gob.pe/madrigal">Jicamarca</a>, Peru, 
<a href="http://rp.iszf.irk.ru/hawk/madrigal/">The Institute of Solar-Terrestrial Physics</a>, Russia, and 
Wuhan Ionospheric Observatory, the Chinese Academy of Sciences. While each Madrigal site stores their own data locally, they also share metadata with all the other sites. This makes it possible for you to search for data at all the Madrigal sites at once no matter which site you visit, and simply follow links to the Madrigal site that has the data you are interested in. </p>
<h4>Instrument </h4>
<p>The next layer of the Madrigal data model is the instrument. All data in Madrigal is associated with one and only one instrument. Any given Madrigal site will hold data from one or more instruments. Since Madrigal  focuses on ground-based instruments, most instruments have a particular location associated with them. However, some Madrigal data is based on measurements from multiple instruments, and so have no particular location. Some examples are &quot;EISCAT Scientific Association IS Radars&quot; which combine data from the multiple EISCAT radars, and &quot;World-wide GPS Receiver Network&quot;, which consists of over a thousand individual GPS receivers distributed around the globe.</p>
<h4>Experiment </h4>
<p>All the data from a given instrument is organized into experiments. An experiment consists of data from a single instrument covering a limited period of time, and, as a rule, is meant to address a particular scientific goal. Madrigal makes the assumption that instruments may be run in different modes, and so the data generated may vary from one experiment to another. By organizing one instrument's data into experiments, the purpose and limitations of each experiment can be made clearer. In Madrigal, you can navigate to a page that contains a particular experiment for a given instrument. This page may contain notes more fully describing the unique features of this experiment, or may contain plots of the data customized to the type of experiment. This level of organization is not presently maintained in the Cedar database.</p>
<p>For simpler instruments that run constantly in the same mode, it is also possible that all data is put in one experiment. For example, the &quot;DST index&quot; instrument consists of a single experiment that is repeatedly updated. </p>
<h4>Experiment Files </h4>
<p>The data from a given experiment is stored in one or more experiment files. There are two reasons there may be more than one file for a given experiment. The first is that the experimental data may be analyzed in more than one way, leading to files with different sets of measured parameters. The second is that older, historical files can be kept on-line for reference purposes. By default, you will only access the most recent, default file through the web, unless you choose &quot;Show History Files&quot; when navigating Madrigal.</p>
<p>The format of these files is the <a href="cedarFormat.pdf">Cedar database format</a>, but this is not important since you download from the web ascii format. Note that once to choose a particular file, you will be directed to the Madrigal site that has that file. Madrigal does not share experiment files between site; only higher level metadata about those files. </p>
<h4>File parameters </h4>
<p>Any given file is made up a series of records holding measured parameters. Note that based on which parameters are in the file, Madrigal will automatically derive a large number of other parameters such as Kp and Magnetic field strength that aren't in the file itself. In the web browser, measured parameters are shown in bold, derived parameters in normal font. </p>
<h4>File data </h4>
<p>The bottom level of the Madrigal data model is of course the data itself. A Madrigal file is made up of a series of records, each with a start and stop time, representing the integration period of measurement (Madrigal tries to enforce the idea that all measurements take a finite time, but sometimes the start time = the stop time). To get data from a file,  simply specify the parameters you want (and optionally, any filters to apply to the data). More details are given later in this tutorial. </p>
<p>Each Madrigal record has two parts - scalar parameters and vector parameters. For historical reasons these two parts are sometimes called one-dimensional and two-dimensional parameters. Scalar parameters are easy to explain - each scalar parameters has one measurement per record. An example might be the azimuth of a radar making a measurement. Vector parameters have multiple values in a given record. The Cedar file format specifies that all vector parameters must have the same number of measurements. One of more of the vector parameters represent the independent spatial variable(s). For radars this variable is typically range, but latitude, longitude, and altitude could just as easily be used as the three independent spatial variables. The dependent vector variables must all have the same length as the independent variable(s). The independent parameter should never represent time, since the Cedar format specifies that that one record should should cover one period of time. </p>
<p>For example, a radar might store azimuth and elevation as scalar parameters, and range as the independent vector variable. If the electron density and ion temperature are dependent vector variables, and there are ten range measurements, then there must be ten measurements of electron density, and ten measurements of ion temperature. If at certain ranges it is impossible to determine the ion temperature, the Cedar format defines a special value to represent missing data to fill the gap.</p>
<p>The <a href="cedarFormat.pdf">Cedar file format</a> defines the physical meaning of almost every parameter to be found in a Cedar file. The only exceptions are parameters defined by individual groups. Any parameter found in a Cedar file that is not defined in the Cedar file format should be fully defined in the header record of the file. See the <a href="wt_expPage.html">experiment page</a> for a description of how to view a Cedar file's header record. </p>
<p>Each Cedar parameter can also have an associated error value. This error value can have the special values &quot;missing&quot;, &quot;assumed&quot;, or &quot;known bad&quot;. If an error parameter is &quot;assumed&quot;, the implication is that the measured value itself is assumed, and does not represent a measured value. If the error value is &quot;known bad&quot;, the measured data is known to have a problem. </p>
<!-- InstanceEndEditable -->
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="wt_whatIsMadrigal.html"><img src="icons/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="wt_contents.html"><img src="icons/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="wt_accessData.html"><img src="icons/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleBottom" -->How does Madrigal organize data?<!-- InstanceEndEditable --></td>
    <td width="13%"><a href="/MADSERVERROOT/madContents.html">Doc home </a></td>
    <td width="18%"><a href="/MADSERVERROOT">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="wt_whatIsMadrigal.html"><!-- InstanceBeginEditable name="PreviousTitle2" -->What is Madrigal?<!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="wt_contents.html"><!-- InstanceBeginEditable name="UpTitle2" -->Web Tutorial - TOC <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="wt_accessData.html"><!-- InstanceBeginEditable name="NextTitle2" -->Access data through the web <!-- InstanceEndEditable --></A></div>
<hr/>
<p>&nbsp;</p>
</body>
<!-- InstanceEnd --></html>
