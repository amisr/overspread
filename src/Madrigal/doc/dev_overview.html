<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/doc_template.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>Madrigal internal API overview</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->



<!-- InstanceEndEditable -->
<link href="madrigal.css" rel="stylesheet" type="text/css" />
<!-- InstanceParam name="href_up_top" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_next_top" type="text" value="madpyDoc/index.html" --><!-- InstanceParam name="href_back_top" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_back_bottom" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_up_bottom" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_next_bottom" type="text" value="madpyDoc/index.html" --><!-- InstanceParam name="href_prev_top" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_uptitle_top" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_nexttitle_top" type="text" value="madpyDoc/index.html" --><!-- InstanceParam name="href_prevtitle_bottom" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_uptitle_bottom" type="text" value="dev_contents.html" --><!-- InstanceParam name="href_nexttitle_bottom" type="text" value="madpyDoc/index.html" -->
</head>

<body>
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="dev_contents.html"><img src="icons/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="dev_contents.html"><img src="icons/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="madpyDoc/index.html"><img src="icons/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleTop" -->Madrigal internal API overview<!-- InstanceEndEditable --></td>
    <td width="13%"><a href="/MADSERVERROOT/madContents.html">Doc home </a></td>
    <td width="18%"><a href="/MADSERVERROOT">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="dev_contents.html"><!-- InstanceBeginEditable name="PreviousTitle" -->Madrigal developer's guide <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="dev_contents.html"><!-- InstanceBeginEditable name="UpTitle" -->Madrigal developer's guide <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="madpyDoc/index.html"><!-- InstanceBeginEditable name="NextTitle" -->Python API <!-- InstanceEndEditable --></A></div>
<hr/>
<!-- InstanceBeginEditable name="EditDoc" -->
<h1 align="center">Madrigal internal API overview</h1>
<p>The Madrigal server API's allow programmers to write programs which access CEDAR format files and Madrigal metadata. Unlike the Madrigal remote access API's, these API's run locally on the Madrigal server, and are the heart of the Madrigal server. </p>
<p>There are five applications programming interfaces (API's) to madrigal: <a href="dev_c.html">C</a>,  <a href="madpyDoc/index.html">Python</a>, <a href="dev_fortran.html">Fortran</a>, <a href="dev_tcl.html">Tcl</a>, and <a href="dev_matlab.html">Matlab</a>. The vast majority of Madrigal is based directly on the C-language API, which is the only language to directly read and write Cedar format files. The Cedar format file reading and writing through both Python and Tcl are built on top of the C API. To use these API's you should be familiar with the <a href="cedarFormat.pdf">CEDAR File Format </a>.</p>
<p>The <a href="dev_c.html">C-language API</a> has two major components: madrec and maddata. The madrec module is file-oriented. It supports all four versions of the CEDAR format in addition to the Madrigal version of the CEDAR format. The maddata module is a higher level interface into Madrigal data, and treats derived parameters and measured parameters from files as the same, and is the basis for   isprint output. The maddata module is also meant to be easily extensible as <a href="dev_c.html#extending_bookmark">described in the C API documentation.</a> The C API is compiled into the madrec library, which is installed in <em>madroot</em>/lib.  </p>
<p>The <a href="madpyDoc/index.html">python API</a> is also built on the C API, and is used for the majority of cgi and administrative scripts, and the entire remote access interface. Madrigal installs its own version of python under <em>madroot</em>, and the Madrigal python API is installed under site-packages. 


 In general, it is the easiest language to use to implement any functionality needed. With the release of Madrigal 2.4, there is now an easy-to-use python API to create and modify Cedar file formats. See the section of the administrative manual on <a href="ad_createFiles.html">creating Madrigal files</a> for details. This internal python API should not be confused with the <a href="rt_python.html">remote python API</a> - the remote python API can be run from anywhere and simply connects over the internet to existing Madrigal servers; this internal python API is part of the Madrigal server itself. </p>
<p>The <a href="dev_tcl.html">Tcl API</a> is no longer being expanded, but is still used for a few of the cgi scripts and some of the administrative scripts. The tcl executable with the Madrigal extensions is installed as <em>madroot</em>/bin/madtclsh. </p>
<p>The <a href="dev_matlab.html">Matlab interface</a> is simply a somewhat higher speed version than the <a href="rt_matlab.html">remote Matlab API </a>, but can only run locally. The administrator controls whether and where it is installed, as described in the <a href="ad_install.html">installation</a> page. </p>
<p>There are two parts to the  <a href="dev_fortran.html">Fortran API</a>  now included in Madrigal. The first part is simply a wrapper around the C API (and indeed is simply Fortran calls that call the C API). The second part of the Fortran API  includes a number of scientific methods that the C API calls. This second part of the Fortran API is compiled into the geo library, which is installed in <em>madroot</em>/lib. </p>
<!-- InstanceEndEditable -->
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="dev_contents.html"><img src="icons/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="dev_contents.html"><img src="icons/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="madpyDoc/index.html"><img src="icons/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleBottom" -->Madrigal internal API overview<!-- InstanceEndEditable --></td>
    <td width="13%"><a href="/MADSERVERROOT/madContents.html">Doc home </a></td>
    <td width="18%"><a href="/MADSERVERROOT">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="dev_contents.html"><!-- InstanceBeginEditable name="PreviousTitle2" -->Madrigal developer's guide <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="dev_contents.html"><!-- InstanceBeginEditable name="UpTitle2" -->Madrigal developer's guide<!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="madpyDoc/index.html"><!-- InstanceBeginEditable name="NextTitle2" -->Python API <!-- InstanceEndEditable --></A></div>
<hr/>
<p>&nbsp;</p>
</body>
<!-- InstanceEnd --></html>
