<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/doc_template.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>What's new in Madrigal 2.5?</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
<link href="madrigal.css" rel="stylesheet" type="text/css" />
<!-- InstanceParam name="href_up_top" type="text" value="madContents.html" --><!-- InstanceParam name="href_next_top" type="text" value="wt_usersGuide.html" --><!-- InstanceParam name="href_back_top" type="text" value="madIntroduction.html" --><!-- InstanceParam name="href_back_bottom" type="text" value="madIntroduction.html" --><!-- InstanceParam name="href_up_bottom" type="text" value="madContents.html" --><!-- InstanceParam name="href_next_bottom" type="text" value="wt_usersGuide.html" --><!-- InstanceParam name="href_prev_top" type="text" value="madIntroduction.html" --><!-- InstanceParam name="href_uptitle_top" type="text" value="madContents.html" --><!-- InstanceParam name="href_nexttitle_top" type="text" value="wt_usersGuide.html" --><!-- InstanceParam name="href_prevtitle_bottom" type="text" value="madIntroduction.html" --><!-- InstanceParam name="href_uptitle_bottom" type="text" value="madContents.html" --><!-- InstanceParam name="href_nexttitle_bottom" type="text" value="wt_usersGuide.html" -->
</head>

<BODY BGCOLOR=#FFFFFF LINK=#008000 VLINK=#003366>
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="madIntroduction.html"><img src="icons/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="madContents.html"><img src="icons/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="wt_usersGuide.html"><img src="icons/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleTop" -->What's new in Madrigal 2.5? <!-- InstanceEndEditable --></td>
    <td width="13%"><a href="/madrigal/madContents.html">Doc home </a></td>
    <td width="18%"><a href="/madrigal">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="madIntroduction.html"><!-- InstanceBeginEditable name="PreviousTitle" -->Brief History <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="madContents.html"><!-- InstanceBeginEditable name="UpTitle" -->Doc home <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="wt_usersGuide.html"><!-- InstanceBeginEditable name="NextTitle" -->Madrigal user's guide <!-- InstanceEndEditable --></A></div>
<hr/>
<!-- InstanceBeginEditable name="EditDoc" -->
<h1 align="center">What's new in Madrigal 2.5?</h1>
<h1>Madrigal 2.5.2 Release - May 2009</h1>
<p>A bug fix release - no new features. </p>
<h1>Madrigal 2.5.1 Release - March 2009</h1>
<p>This minor revision to Madrigal 2.5 was needed to support using Madrigal as an archiving database. The experiment metadata was expanded to allow archived experiments. Archived experiments are not shared between Madrigal sites, but are visible as local experiments. </p>
<h1>Madrigal 2.5 Release - February 2009 </h1>
<h2>Simplification of Web User Interface </h2>
<p>Both the <a href="wt_browseExp.html">Browse for Individual Madrigal Experiments</a> and the <a href="wt_global.html">Global Madrigal Database Report</a> web interface have been simplified. Searching for instruments under Browse for Individual Madrigal Experiments is now easier through the use of an instrument category selector.</p>
<h2>One step file printing available</h2>
<p>Under   <a href="wt_browseExp.html">Browse for Individual Madrigal Experiments</a>, users can now choose to print an ascii version of any Madrigal file with one click. With this option they can not include any derived parameters or data filters.</p>
<h2>Installation simplified </h2>
<p>Autotools is now used to compile all code, significantly reducing the number of parameters in the madrigal.cfg configuration file.</p>
<h2>64-bit tested </h2>
<p>Madrigal has now been fully tested as a 64-bit application. It is important that all Madrigal installations switch to 64-bit machines by the year 2037, because 32-bit unix cannot handle dates beyond then.</p>
<h2>International Reference Ionosphere (IRI) derived parameters now available</h2>
<p>All parameters calculated by the  International Reference Ionosphere (IRI) model can now be selected as derived parameters.</p>
<h2>Additional automatic sharing of metadata added</h2>
<p>For administrators: Now when new sites or instruments are added to Madrigal, these metadata files are automatically added to your site.  </p>
<h2>Experiment level security</h2>
<p>Previously, individual Madrigal files could be made public or private.   Now entire experiments can be made public, private, or hidden altogether. See the script <a href="ad_createExp.html#changeExpStatus">changeExpStatus.py</a> for details. </p>
<h2>Experiment directory naming convention modified </h2>
<p>Previous to Madrigal 2.5, all Madrigal experiments had to be stored in directory paths in the form:</p>
<pre>$MADROOT/experiments/YYYY/&lt;3 letter inst mnemonic&gt;/ddMMMyy[letter],
Example: /opt/madrigal/experiments/1998/mlh/20jan98b.</pre>
<p>Under this convention, the date of the directory name represented the start date of the experiment, with one letter optionally added. This meant there was a limited number of experiments that could be created for a particular day for a particular experiment. This part of the directory naming convention has been dropped, and now the convention is:</p>
<pre>$MADROOT/experiments/YYYY/&lt;3 letter inst mnemonic&gt;/*, 
Example: /opt/madrigal/experiments/1998/mlh/mlh_exp_234.
</pre>
<hr />
<h1>Madrigal 2.4 Release - February 2006 </h1>
<h2>Simple web UI added</h2>
<p>A <a href="wt_simple.html">new web user-interface</a> has been added that allows easy printing and plotting of basic Madrigal data. To make it easy to use, advanced Madrigal features such as derived parameters and filtering of data have been removed.</p>
<h2>On-demand plot creation</h2>
<p>Madrigal now allows users to <a href="wt_plotData.html">create basic scatter plots and pcolor plots</a> versus range or altitude of any measured or derived parameter in a data set.</p>
<h2>Logging of user data access</h2>
<p>Madrigal now <a href="ad_logging.html">logs user's names, emails, and affiliations</a> whenever data files are directly accessed in a file administrators can access. </p>
<h2>Automatic updating of all geophysical data</h2>
<p>Madrigal now automatically updates all its internal geophysical files (e.g., Kp, Fof2, Dst, Imf, etc) every time updateMaster is run.  </p>
<h2>Simple-to-use python module to create and edit Madrigal files</h2>
<p>There is now a <a href="ad_createFiles.html#python">simple-to-use python module</a> to create and edit Madrigal files.  </p>
<h2>New administrative scripts to manage Madrigal experiments</h2>
<p>Administrators can now add or modify all Madrigal experiments using <a href="ad_createExp.html">simple administrative scripts</a>, instead of trying to edit Madrigal metadata files themselves or use the complex genExp script. </p>
<h2>Complete documentation rewrite</h2>
<p>Madrigal documentation has now been completely rewritten and reorganized into three manuals: one for <a href="wt_usersGuide.html">users</a>, one for <a href="admin.html">administrators</a>, and one for <a href="dev_contents.html">developers</a>.  </p>
<h2>Automatic graphics conversion</h2>
<p>Madrigal will now allow users to select any graphics format they prefer for <a href="ad_createExp.html#auxillary">graphics administrators place in experiments</a>. This feature was contributed by Eiscat.  </p>
<h2>Update of IGRF/MSIS</h2>
<p>The Madrigal derivation engine is now using the <a href="http://www.ngdc.noaa.gov/IAGA/vmod/igrf.html">IGRF 2010 coefficients</a>, and the <a href="http://uap-www.nrl.navy.mil/models_web/msis/msis_home.htm">MSIS 2000 model</a>.  </p>
<h2>Limiting of disk space used for global search files</h2>
<p>Administrators can now limit the maximum amount of disk space used to store temporary <a href="wt_global.html">global search</a> files.  See the section on <a href="ad_install.html#edit">editing the madrigal.cfg file</a> in the installation guide. </p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h1>Madrigal 2.3 Release - March 2004</h1>

<h2>Remote programming access to Madrigal via web services using any platform</h2>

<p>Madrigal now exposes all the information and capabilities it has as web services, which allows
easy access to Madrigal from any computer on the internet using any platform (Unix, Windows, Mac, etc).
Madrigal's web services are basically cgi scripts with simple output that allows easy parsing of the 
information.  Any language that supports the HTTP standard can then access any Madrigal site.  We have 
written remote API's using python and Matlab, but almost any language could be used.  See the section
on <a href="rt_contents.html">remote programming access</a> for details of these APIs and the underlying web services.</p>

<p>Note that this approach of remotely accessing Madrigal data has been always possible before by parsing the
html output meant to be displayed in a web browser (this general programming method is referred to as "screen
scraping").  However, not only is this parsing difficult; but the code often breaks when the user interface
is modified in any way.  With web services the returned cgi scripts are designed to be both simple to parse
and stable.</p>

<p>The web services are not implemented according to the SOAP or XMLRPC standard since not all scripting 
languages have support for these standards (or for XML parsing).  Instead they use the simple approach 
of returning data requested via a query as a delimited text file.  These web services are fully 
documented  <a href="rt_webServices.html">here.</a></p>

<p>Users who want only to write programs to remotely access Madrigal, and not to install a Madrigal server
themselves, are now able to <a href="http://www.haystack.mit.edu/madrigal/madDownload.html"> download </a>
the remote python and Matlab API's from the 
<a href="http://www.openmadrigal.org">OpenMadrigal</a> site.</p>

<h2> Command-line global search</h2>

<p>As an example of remote programming access to Madrigal via web services, an application
<a href="ug_commandLine.html#globalIsprint">globalIsprint</a> was written
using the python remote API that does a global search of data on any Madrigal site that has installed Madrigal version
2.3.  This application is installed as part of Madrigal, and also when the standalone remote python 
API is installed.  It has all the filtering ability of the web-based global search.</p>

<h2>Calculate any derivable Madrigal parameter for any time and point(s) in space</h2>

<p>By clicking on "Run Models", users can calculate any derived Madrigal parameter (such as magnetic fields, 
or geophysical parameters) for arbitrary times and ranges of position.  Note that this capability is also
available as a web service, and through the remote python and Matlab API's.</p>



<h2>New derived parameters</h2>

<ul>
<li>
CGM_LAT: <b>Corrected geomagnetic latitude</b> (deg) <br>
This parameter gives the location of a point in Corrected geomagnetic latitude.
This method uses code developed by Vladimir Papitashvili.  For more information on CGM coordinates
and this code, click <a href=javascript:popup("http://nssdc.gsfc.nasa.gov/space/cgm/cgmm_des.html")> here.</a></li>

<li>
CGM_LONG: <b>Corrected geomagnetic longitude</b> (deg) <br>
This parameter gives the location of a point in Corrected geomagnetic longitude.
This method uses code developed by Vladimir Papitashvili.  For more information on CGM coordinates
and this code, click <a href=javascript:popup("http://nssdc.gsfc.nasa.gov/space/cgm/cgmm_des.html")> here.</a></li>

<li>
TSYG_EQ_XGSM: <b>Tsyganenko field GSM XY plane X point</b> (earth radii) <br>
This parameter gives the X value in GSM coordinates of where the field line associated
with a given input point in space and time crosses the GSM XY plane (the magnetic equatorial plane).  GSM stands for 
<a href=javascript:popup("http://www.spenvis.oma.be/spenvis/help/background/coortran/coortran.html")>
Geocentric Solar Magnetospheric System</a>, and its XY plane is the equatorial plane of
the earth's magnetic dipole field.  The field lines are traced using the 
<a href=javascript:popup("http://nssdc.gsfc.nasa.gov/space/model/magnetos/data-based/modeling.html")>Tsyganenko
Magnetospheric model</a>, so external effects on the earth's magnetic field such the solar wind are
taken into account.  This code uses the 2001 Tsyganenko model, which averages solar wind values
over the past hour, instead of simply using present values.</li>

<li>
TSYG_EQ_YGSM: <b>Tsyganenko field GSM XY plane Y point</b> (earth radii) <br>
This parameter gives the Y value in GSM coordinates of where the field line associated
with a given input point in space and time crosses the GSM XY plane (the magnetic equatorial plane).  GSM stands for 
<a href=javascript:popup("http://www.spenvis.oma.be/spenvis/help/background/coortran/coortran.html")>
Geocentric Solar Magnetospheric System</a>, and its XY plane is the equatorial plane of
the earth's magnetic dipole field.  The field lines are traced using the 
<a href=javascript:popup("http://nssdc.gsfc.nasa.gov/space/model/magnetos/data-based/modeling.html")>Tsyganenko
Magnetospheric model</a>, so external effects on the earth's magnetic field such the solar wind are
taken into account.  This code uses the 2001 Tsyganenko model, which averages solar wind values
over the past hour, instead of simply using present values.</li>

<li>
TSYG_EQ_XGSM: <b>Tsyganenko field GSE XY plane X point</b> (earth radii) <br>
This parameter gives the X value in GSE coordinates of where the field line associated
with a given input point in space and time crosses the GSE XY plane (the equatorial plane).  GSE stands for 
<a href=javascript:popup("http://www.spenvis.oma.be/spenvis/help/background/coortran/coortran.html")>
Geocentric Solar Ecliptic System</a>, and its XY plane is the equatorial plane of
the earth's rotation.  The field lines are traced using the 
<a href=javascript:popup("http://nssdc.gsfc.nasa.gov/space/model/magnetos/data-based/modeling.html")>Tsyganenko
Magnetospheric model</a>, so external effects on the earth's magnetic field such the solar wind are
taken into account.  This code uses the 2001 Tsyganenko model, which averages solar wind values
over the past hour, instead of simply using present values.</li>

<li>
TSYG_EQ_YGSM: <b>Tsyganenko field GSE XY plane Y point</b> (earth radii) <br>
This parameter gives the Y value in GSE coordinates of where the field line associated
with a given input point in space and time crosses the GSE XY plane (the equatorial plane).  GSE stands for 
<a href=javascript:popup("http://www.spenvis.oma.be/spenvis/help/background/coortran/coortran.html")>
Geocentric Solar Ecliptic System</a>, and its XY plane is the equatorial plane of
the earth's rotation.  The field lines are traced using the 
<a href=javascript:popup("http://nssdc.gsfc.nasa.gov/space/model/magnetos/data-based/modeling.html")>Tsyganenko
Magnetospheric model</a>, so external effects on the earth's magnetic field such the solar wind are
taken into account.  This code uses the 2001 Tsyganenko model, which averages solar wind values
over the past hour, instead of simply using present values.</li>

<li>
BHHMMSS and EHHMMSS: <b>Start and end time in HHMMSS</b> (suggested by Mary McCready at SRI)</li>
</ul>

<h2>Bug fixes</h2>

<p>The Madrigal C API now no longer aborts when a Cedar file contains cycle marks (Cedar
parameter 95) that are not in order.  (Reported by Angela Li, SRI)</p>

<p>A problem launching the global search with the python module os.spawnlp was fixed.
(Reported by Angela Li, SRI)</p>
<p>&nbsp;</p>
<hr></hr>
<h1>
Madrigal 2.2 Release - Feb 2003</h1>


<h2>New derived parameters</h2>

<ul>
<li>
SUNRISE_HOUR - <b>Ionospheric sunrise</b> (hour)<br>
This parameter gives the hour UT that sunrise occurs at that particular
point in space that particular day.  If that point in space is either in sunlight or in shadow
the entire UT day, sunrise_hour will be missing.  To find out which, display the
Shadow height (SDWHT) parameter.  If shadow height is less that the altitude of the
point, its in sunlight; if shadow height is greater than the altitude, its in the earth's shadow.</li>


<li>SUNSET_HOUR - <b>Ionospheric sunset</b> (hour)<br>
This parameter gives the hour UT that sunset occurs at that particular
point in space that particular day.  If that point in space is either in sunlight or in shadow
the entire UT day, sunset_hour will be missing.  To find out which, display the
Shadow height (SDWHT) parameter.  If shadow height is less that the altitude of the
point, its in sunlight; if shadow height is greater than the altitude, its in the earth's shadow.</li>


<li>CONJ_SUNRISE_H - <b>Magnetic conjugate point sunrise</b> (hour)<br>
This parameter gives the hour UT that sunrise occurs at the magnetic conjugate point of the particular
point in space that particular day.</li>

<li>CONJ_SUNSET_H - <b>Magnetic conjugate point sunset</b> (hour)<br>
This parameter gives the hour UT that sunset occurs at the magnetic conjugate point of the particular
point in space that particular day.</li>

<li>SZEN - <b>Solar zenith angle in measurement vol</b> (deg) <br>
This parameter gives the solar zenith angle in degrees.  If 0 degrees, the sun is directly
overhead.  A solar zenith angle of between 90 and 180 degrees does not mean the sun is not
visible, due to the finite solid angle of the sun and the altitude the point may be above the
earth's surface.</li>


<li>SZENC - <b>Conjugate solar zenith angle</b> (deg) <br>
This parameter gives the solar zenith angle at the magnetic conjugate point in degrees.</li>

<li>SDWHT - <b>Shadow height</b> (km) <br>
This parameter gives the height above the earth's surface at which any part of the sun can be seen.  It depends only 
on the time, and on the geodetic latitude and longitude.  During the day shadow height will be zero.  Since the sun is
larger than the earth, the shadow height is always finite. If shadow height is less that the altitude of a given
point in space, its in sunlight; if shadow height is greater than the altitude, its in the earth's shadow.</li>

<li>MAGCONJSDWHT -  <b>Magnetic conjugate shadow height</b> (km) <br>
This parameter gives the height above the earth's surface at the magnetic conjugate point's latitude and longitude at 
which any part of the sun can be seen. </li>

<li><b>10 Interplanetary Magnetic Field parameters</b><br>
Includes field strength in GSM or GSE coordinates, solar wind plasma density, speed, and measuring satellite id. 
Click on any parameter to see the definition of the two coordinate systems.</li>
</ul>

<h2>Filtering using any parameter</h2>

<ul>
<li>There are now also <a href="wt_dataBrowser.html#filter">free-form filters</a> at the end
of the filter section, which allow you to set up filters based on any
single parameter or on two parameters either added,
subtracted, multiplied, or divided together.  For example, you can now filter on
Ti, the ratio Ti/dTi, or gdalt-sdwht (which is positive if the point is in sunlight).
See the <a href="wt_dataBrowser.html">tutorial</a> for more details.</li>
</ul>

<h2>Better help understanding what each parameter means</h2>

<ul>
<li>Complex parameters now have full html descriptions accessible from the isprint page.
Just click on the parameter name and you'll see the short description.  For more complex
parameters you'll also see a link to a more detailed explanation.</li>
</ul>

<h2>Improved data output</h2>

<ul>
<li>If you select only 1D parameters, or derived parameters that depend only on other 1D parameters,
isprint will only print a single line per record, making it easier to read.</li>
<li>All filters used are printed at the beginning of the report.  Trivial filters that don't exclude
data (such as elevation from 0 to 90 degrees) are ignored.</li>
</ul>

<h2>Better consistency with Cedar standard</h2>

<ul>
<li>All units are now consistent with the Cedar standard (when displaying Cedar parameters).</li>
<li>The special Cedar values "missing", "assumed", and "known bad" are differentiated in isprint output,
and not all lumped together as "missing" as before.</li>
<li>Unknown parameter codes displayed with a scale factor of 1.0.</li>
</ul>

<h2>New derived parameters are simple to add</h2>

<ul>
<li>The isprint web page is now based on the madc library, and has been designed to
make it extremely simple to add new derived parameters.  See the 
<a href="dev_c.html#extending_bookmark">madc API documentation</a> for details.</li>
</ul>
<!-- InstanceEndEditable -->
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="madIntroduction.html"><img src="icons/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="madContents.html"><img src="icons/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="wt_usersGuide.html"><img src="icons/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleBottom" -->What's new in Madrigal 2.5?<!-- InstanceEndEditable --></td>
    <td width="13%"><a href="/madrigal/madContents.html">Doc home </a></td>
    <td width="18%"><a href="/madrigal">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="madIntroduction.html"><!-- InstanceBeginEditable name="PreviousTitle2" -->Brief History <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="madContents.html"><!-- InstanceBeginEditable name="UpTitle2" -->Doc home <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="wt_usersGuide.html"><!-- InstanceBeginEditable name="NextTitle2" -->Madrigal user's guide <!-- InstanceEndEditable --></A></div>
<hr/>
<p>&nbsp;</p>
</body>
<!-- InstanceEnd --></html>
