        <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
          "http://www.w3.org/TR/html40/loose.dtd">

        <html>
         
        <head>
        <title>Class: CatalogHeaderCreator</title>
        </head>

<BODY BGCOLOR=#FFFFFF LINK=#008000 VLINK=#003366>

        <p><i><a href="index.html">Table of Contents</a></i></p>
        
        <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tr bgcolor="#88bbee">
            <th rowspan="2"
                valign="top"
                align="left"
                width="10%"><font color="#000000">Class: CatalogHeaderCreator</font>
            </th>
            <th align="right"><font color="#000000">cedar.py</font></th>
        </tr>
        <tr>
        <td>
        <h3>CatalogHeaderCreator is a class that automates the creation of catalog and header records</h3>
<p>    This class creates and adds catalog and header records that meet the Cedar standards.  It does this 
    by examining the input Cedar file for all summary information possible.  The user needs only 
    add text that describes their experiment.  A Cedar file must already be written to disk before
    this class is created.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Methods">Methods</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
<a href="#__init__">__init__</a><br>
<a href="#_createCedarLines">_createCedarLines</a><br>
<a href="#_createMaxMinSummaryLines">_createMaxMinSummaryLines</a><br>
<a href="#_padStr">_padStr</a><br>
<a href="#createCatalog">createCatalog</a><br>
<a href="#createHeader">createHeader</a><br>
<a href="#write">write</a><br>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__init__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__init__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__init__ ( self,  madFilename )

</pre></font>
<p>__init__ reads in all summary information about madFilename using madrigal.data</p>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="_createCedarLines"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">_createCedarLines&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
_createCedarLines (
        self,
        prefix,
        text,
        )

</pre></font>
<p>_createCedarLines is a private method that returns a string which is a multiple of 
        80 characters (no line feeds) where each 80 character block starts with prefix,then a space, 
        and then the next part of text that fits on line, padded with spaces</p>

<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
IOError, 'Can not fit the word <%s> in a Cedar text record' %( word )<br>
IOError, 'Too long prefix %s' %(str( prefix ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="_createMaxMinSummaryLines"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">_createMaxMinSummaryLines&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
_createMaxMinSummaryLines ( self )

</pre></font>
<p>_createMaxMinSummaryLines is a private method that creates the max and min summary 
        lines (e.g., alt, gdlat, etc)</p>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="_padStr"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">_padStr&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
_padStr (
        self,
        thisStr,
        lineLen,
        )

</pre></font>
<p>_padStr is a private method that pads a string with spaces so its length is module lineLen</p>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="createCatalog"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">createCatalog&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
createCatalog (
        self,
        principleInvestigator=None,
        expPurpose=None,
        expMode=None,
        cycleTime=None,
        correlativeExp=None,
        sciRemarks=None,
        instRemarks=None,
        )

</pre></font>
<p>createCatalog will create a catalog record appropriate for this file.  The additional
        information fields are all optional, and are all simple text strings (except for
        cycleTime, which is in minutes).  If the text contains line feeds, those will be used 
        as line breaks in the catalog record.</p>
<p>        The descriptions of these fields all come from Barbara Emery's documentation
        cedarFormat.pdf</p>

<p>        Inputs:</p>
<p>            principleInvestigator - Names of responsible Principal Investigator(s) or others knowledgeable 
                                    about the experiment.</p>

<p>            expPurpose - Brief description of the experiment purpose</p>

<p>            expMode - Further elaboration of meaning of MODEXP; e.g. antenna patterns and 
                      pulse sequences.</p>

<p>            cycleTime - Minutes for one full measurement cycle</p>

<p>            correlativeExp - Correlative experiments (experiments with related data)</p>

<p>            sciRemarks - scientific remarks</p>

<p>            instRemarks - instrument remarks</p>


<p>        Returns: None</p>

<p>        Affects: sets self._catalog</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="createHeader"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">createHeader&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
createHeader (
        self,
        kindatDesc=None,
        analyst=None,
        comments=None,
        history=None,
        )

</pre></font>
<p>createHeader will create a header record appropriate for this file.  The additional
        information fields are all optional, and are all simple text strings.  If the text contains l
        ine feeds, those will be used as line breaks in the header record.</p>
<p>        Inputs:</p>
<p>            kindatDesc - description of how this data was analyzed (the kind of data)</p>

<p>            analyst - name of person who analyzed this data</p>

<p>            comments - additional comments about data (describe any instrument-specific parameters) </p>

<p>            history - a description of the history of the processing of this file</p>


<p>        Returns: None</p>

<p>        Affects: sets self._header</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="write"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">write&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
write (
        self,
        newFilename=None,
        format=None,
        )

</pre></font>
<h3>write will output the new file with prepended catalog and header records</h3>
<p>        Raises an IOError if no new catalog or header records to prepend</p>

<p>        Inputs:</p>
<p>            newFilename - if None, overwrite original file</p>

<p>            format - Cedar format to use.  If None, use same format as original file.</p>



<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
IOError, 'Does not make sense to save a new file if no catalog or header has been added'<br>

</td></tr>
</table>
</td></tr>
</td></tr>
</table>

        </td>
        </tr>
        </table>

        <hr>

        <p><i><a href="index.html">Table of Contents</a></i></p>

        <font size="-2"><i>This document was automatically generated
        on Thu Apr 16 16:45:18 2009 by
        <a href="http://happydoc.sourceforge.net">HappyDoc</a> version
        r1_5</i></font>
        
        </body>
        </html>
        
