        <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
          "http://www.w3.org/TR/html40/loose.dtd">

        <html>
         
        <head>
        <title>Class: MadrigalSite</title>
        </head>

<BODY BGCOLOR=#FFFFFF LINK=#008000 VLINK=#003366>

        <p><i><a href="index.html">Table of Contents</a></i></p>
        
        <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tr bgcolor="#88bbee">
            <th rowspan="2"
                valign="top"
                align="left"
                width="10%"><font color="#000000">Class: MadrigalSite</font>
            </th>
            <th align="right"><font color="#000000">metadata.py</font></th>
        </tr>
        <tr>
        <td>
        <h3>MadrigalSite is an object that provides access to Madrigal site info from the metadata.</h3>
<p>    This object provides access to all Madrigal site information in the metadata file siteTab.txt.</p>

<p>    Usage example:</p>
<PRE>
        import madrigal.metadata
        import madrigal.admin

        try:

            siteObj = madrigal.metadata.MadrigalSite()

            print siteObj.getSiteName(1)

        except madrigal.admin.MadrigalError, e:

            print e.getExceptionStr()

</PRE>

<p>    Non-standard Python modules used:
    None</p>

<p>    MadrigalError exception thrown if:</p>
<ol><li><p>MadrigalMetadata fails to open or parse metadata file</p>

</li>
<li><p>Columns expected to be ints or floats cannot be converted</p>

</li></ol>

<p>    Change history:</p>

<p>    Written by <a href="mailto:wrideout@haystack.mit.edu">Bill Rideout</a>  Nov. 9, 2001</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Methods">Methods</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
<a href="#__init__">__init__</a><br>
<a href="#getSiteDocRoot">getSiteDocRoot</a><br>
<a href="#getSiteEmail">getSiteEmail</a><br>
<a href="#getSiteList">getSiteList</a><br>
<a href="#getSiteName">getSiteName</a><br>
<a href="#getSiteRelativeCGI">getSiteRelativeCGI</a><br>
<a href="#getSiteServer">getSiteServer</a><br>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__init__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__init__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__init__ (
        self,
        madDB=None,
        initFile=None,
        )

</pre></font>
<h3>__init__ initializes MadrigalSite by reading from siteTab.txt (or initFile).</h3>
<h4>Inputs: Existing MadrigalDB object, by default = None.</h4>
<p>            String representing the full path to the metadata file. Default is None, in
            which case file read is MadrigalDB.getMetadataDir()/siteTab.txt.</p>


<p>        Returns: void</p>

<p>        Affects: Initializes all the class member variables.</p>

<p>        Exceptions: MadrigalError thrown  by MadrigalMetadata if file not opened or parsed successfully.</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSiteDocRoot"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSiteDocRoot&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSiteDocRoot ( self,  siteID )

</pre></font>
<h3>getSiteDocRoot returns the relative document root (e.g. madrigal)  that matches siteID argument, or None if not found.</h3>
<p>        Inputs: siteID integer to get document root path.</p>

<p>        Returns: the document root path that matches siteID argument, or None if not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error parsing metadata row in siteTab.txt: ' + str( site ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSiteEmail"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSiteEmail&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSiteEmail ( self,  siteID )

</pre></font>
<h3>getSiteEmail returns the site email address that matches siteID argument, or None if not found.</h3>
<p>        Inputs: siteID integer to get Site email address.</p>

<p>        Returns: the site email address that matches siteID argument, or None if not found.  To list multiple
        email addresses in this field separate them with semicolons (since commas are delimiters).  getSiteEmail
        will automatically replace semicolons with commas, as required by multiple email addresses.</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error parsing metadata row in siteTab.txt: ' + str( site ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSiteList"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSiteList&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSiteList ( self )

</pre></font>
<h3>getSiteList returns a list of all site ids and names.</h3>
<p>        Inputs: None.</p>

<p>        Returns: a list of all site ids and names.  Each item in the list
        is a tuple of the form (Site id (integer), site name (string)).  Example item:
        (1,'Millstone')</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in siteTab.txt parsing metadata row: ' + str( inst ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSiteName"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSiteName&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSiteName ( self,  siteID )

</pre></font>
<h3>getSiteName returns the site name that matches siteID argument, or None if not found.</h3>
<p>        Inputs: siteID integer to get SiteName.</p>

<p>        Returns: the site name that matches siteID argument, or None if not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error parsing metadata row in siteTab.txt: ' + str( site ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSiteRelativeCGI"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSiteRelativeCGI&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSiteRelativeCGI ( self,  siteID )

</pre></font>
<h3>getSiteRelativeCGI returns the relative cgi path (e.g.cgi-bin/madrigal)  that matches siteID argument, or None if not found.</h3>
<p>        Inputs: siteID integer to get relative cgi path.</p>

<p>        Returns: the relative cgi path that matches siteID argument, or None if not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error parsing metadata row in siteTab.txt: ' + str( site ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSiteServer"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSiteServer&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSiteServer ( self,  siteID )

</pre></font>
<h3>getSiteServer returns the site server (e.g., www.haystack.mit.edu) that matches siteID argument, or None if not found.</h3>
<p>        Inputs: siteID integer to get site server.</p>

<p>        Returns: the site server that matches siteID argument, or None if not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error parsing metadata row in siteTab.txt: ' + str( site ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>
</td></tr>
</td></tr>
</table>

        </td>
        </tr>
        </table>

        <hr>

        <p><i><a href="index.html">Table of Contents</a></i></p>

        <font size="-2"><i>This document was automatically generated
        on Fri May 30 14:39:57 2008 by
        <a href="http://happydoc.sourceforge.net">HappyDoc</a> version
        r1_5</i></font>
        
        </body>
        </html>
        
