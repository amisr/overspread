        <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
          "http://www.w3.org/TR/html40/loose.dtd">

        <html>
         
        <head>
        <title>Class: MadrigalExperiment</title>
        </head>

<BODY BGCOLOR=#FFFFFF LINK=#008000 VLINK=#003366>

        <p><i><a href="index.html">Table of Contents</a></i></p>
        
        <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tr bgcolor="#88bbee">
            <th rowspan="2"
                valign="top"
                align="left"
                width="10%"><font color="#000000">Class: MadrigalExperiment</font>
            </th>
            <th align="right"><font color="#000000">metadata.py</font></th>
        </tr>
        <tr>
        <td>
        <h3>MadrigalExperiment is an object that provides access to Madrigal experiment info from the metadata.</h3>
<p>    This object provides access to all Madrigal experiment information in the metadata file expTab.txt.</p>

<p>    Usage example:</p>
<PRE>
        import madrigal.metadata

        import madrigal.admin

        try:

            test = madrigal.metadata.MadrigalExperiment()

            print test.getExperimentName(3001)

        except madrigal.admin.MadrigalError, e:

            print e.getExceptionStr()

</PRE>

<p>    Non-standard Python modules used:
    None</p>

<p>    MadrigalError exception thrown if:</p>
<ol><li><p>MadrigalMetadata fails to open or parse metadata file</p>

</li>
<li><p>Columns expected to be ints or floats cannot be converted</p>

</li></ol>

<p>    Change history:</p>

<p>    Written by <a href="mailto:wrideout@haystack.mit.edu">Bill Rideout</a>  Apr. 17, 2002</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Methods">Methods</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        

            <table border="0" cellspacing="2" cellpadding="2" width="100%">
              <tr>
            <td align="LEFT" valign="TOP">
<a href="#__compareDateSite__">__compareDateSite__</a><br>
<a href="#__getPositionByExpIdBinarySearch__">__getPositionByExpIdBinarySearch__</a><br>
<a href="#__init__">__init__</a><br>
<a href="#__str__">__str__</a><br>
<a href="#getExpCount">getExpCount</a><br>
<a href="#getExpDirByExpId">getExpDirByExpId</a><br>
<a href="#getExpDirByPosition">getExpDirByPosition</a><br>
<a href="#getExpEndDateTimeByExpId">getExpEndDateTimeByExpId</a><br>
<a href="#getExpEndDateTimeByPosition">getExpEndDateTimeByPosition</a><br>
<a href="#getExpIdByPosition">getExpIdByPosition</a><br>
<a href="#getExpLinksByExpId">getExpLinksByExpId</a><br>
</td>
<td align="LEFT" valign="TOP">
<a href="#getExpNameByExpId">getExpNameByExpId</a><br>
<a href="#getExpNameByPosition">getExpNameByPosition</a><br>
<a href="#getExpSiteIdByExpId">getExpSiteIdByExpId</a><br>
<a href="#getExpSiteIdByPosition">getExpSiteIdByPosition</a><br>
<a href="#getExpStartDateTimeByExpId">getExpStartDateTimeByExpId</a><br>
<a href="#getExpStartDateTimeByPosition">getExpStartDateTimeByPosition</a><br>
<a href="#getExpUrlByExpId">getExpUrlByExpId</a><br>
<a href="#getExpUrlByPosition">getExpUrlByPosition</a><br>
<a href="#getKinstByExpId">getKinstByExpId</a><br>
<a href="#getKinstByPosition">getKinstByPosition</a><br>
<a href="#getLine">getLine</a><br>
</td>
<td align="LEFT" valign="TOP">
<a href="#getSecurityByExpId">getSecurityByExpId</a><br>
<a href="#getSecurityByPosition">getSecurityByPosition</a><br>
<a href="#setExpEndDateTimeByPosition">setExpEndDateTimeByPosition</a><br>
<a href="#setExpIdByPosition">setExpIdByPosition</a><br>
<a href="#setExpKinstByPosition">setExpKinstByPosition</a><br>
<a href="#setExpNameByPosition">setExpNameByPosition</a><br>
<a href="#setExpSiteIdByPosition">setExpSiteIdByPosition</a><br>
<a href="#setExpStartDateTimeByPosition">setExpStartDateTimeByPosition</a><br>
<a href="#setExpUrlByPosition">setExpUrlByPosition</a><br>
<a href="#setSecurityByPosition">setSecurityByPosition</a><br>
<a href="#sortByDateSite">sortByDateSite</a><br>
</td>
</tr>
            </table>
            

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__compareDateSite__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__compareDateSite__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__compareDateSite__ (
        self,
        first,
        second,
        )

</pre></font>
<h3>__compareDateSite__ is a private method to help sort by start date and then site.</h3>
<p>        first, second - lists of experiment information as parsed from expTab.txt filesself.__expStartDateCol</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__getPositionByExpIdBinarySearch__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__getPositionByExpIdBinarySearch__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__getPositionByExpIdBinarySearch__ ( self,  expId )

</pre></font>
<p>__getPositionByExpIdBinarySearch__ is a private method that does a binary search for
        a given experiment id.</p>
<p>        May fail if experiment ids are not in order, or if expId does not exist.  If fails, returns
        None.</p>

<p>        Input: expId - experiment ID (int) to search for</p>

<p>        Returns: position (int) of expId.  First position = 0.  Returns None if not found.</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__init__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__init__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__init__ (
        self,
        madDB=None,
        initFile=None,
        )

</pre></font>
<h3>__init__ initializes MadrigalExperiment by reading from expTab.txt (or initFile).</h3>
<h4>Inputs: Existing MadrigalDB object, by default = None.</h4>
<p>            String representing the full path to the metadata file. Default is None, in
            which case file read is MadrigalDB.getMetadataDir()/expTab.txt.</p>


<p>        Returns: void</p>

<p>        Affects: Initializes all the class member variables.</p>

<p>        Exceptions: MadrigalError thrown  by MadrigalMetadata if file not opened or parsed successfully.</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="__str__"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">__str__&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
__str__ ( self )

</pre></font>
<p>return possibly modified file as a string in same format as writeMetadata</p>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpCount"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpCount&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpCount ( self )

</pre></font>
<p>getExpCount returns number of experiments in MadrigalExperiment object</p>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpDirByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpDirByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpDirByExpId ( self,  expId )

</pre></font>
<h3>getExpDirByExpId returns the full experiment directory for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the full experiment directory (string).  Returns None if experiment id not found.
        Uses experiment url to determine directory.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpDirByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpDirByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpDirByPosition ( self,  position=0 )

</pre></font>
<h3>getExpDirByPosition returns the full experiment directory of the experiment at given position.</h3>
<p>        Inputs: position of experiment in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the full experiment directory, or None if position &gt;= number of experiments.  Uses
        experiment url to determine directory.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpEndDateTimeByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpEndDateTimeByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpEndDateTimeByExpId ( self,  expId )

</pre></font>
<h3>getExpEndDateTimeByExpId returns the ending date/time of the experiment for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the experiment end date/time in the standard python form of 9 item tuple in UTC.  
        Returns None if experiment id not found.  Since mktime does not go before 1970, I use
        date.c methods, and miss only day of week and DST flag</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpEndDateTimeByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpEndDateTimeByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpEndDateTimeByPosition ( self,  position=0 )

</pre></font>
<h3>getExpEndDateTimeByPosition returns the ending date/time of the experiment at given position.</h3>
<p>        Inputs: position of experiment in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the experiment end date/time in the standard python form of 9 item tuple in UTC.  
        Returns None if position &gt;= number of experiments.  Since mktime does not go before 1970, I use
        date.c methods, and miss only day of week and DST flag</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpIdByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpIdByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpIdByPosition ( self,  position=0 )

</pre></font>
<h3>getExpIdByPosition returns the experiment id of the experiment at given position.</h3>
<p>        Inputs: position of experiment in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the experiment id (integer), or None if position &gt;= number of experiments.</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in expTab.txt parsing metadata row: ' + str( position ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpLinksByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpLinksByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpLinksByExpId ( self,  expId )

</pre></font>
<h3>getExpLinksByExpId returns a list of (title, url) tuples containing all links for this experiment.</h3>
<p>        Inputs:</p>
<p>            Inputs: Experiment Id (integer).</p>


<p>        Returns: a list of (title, url) tuples containing all links for this experiment.</p>

<p>        In order to be a link, a file must be in the experiment directory in the form *.html,
        */index.html, or */*/index.html.  The title is parsed from the title in the head; if not found,
        returns <code>No title</code> as title.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpNameByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpNameByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpNameByExpId ( self,  expId )

</pre></font>
<h3>getExpNameByExpId returns the experiment name for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the experiment name (string).  Returns None if experiment id not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpNameByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpNameByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpNameByPosition ( self,  position=0 )

</pre></font>
<h3>getExpNameByPosition returns the experiment name of the experiment at given position.</h3>
<p>        Inputs: position of experiment in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the experiment name, or None if position &gt;= number of experiments.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpSiteIdByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpSiteIdByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpSiteIdByExpId ( self,  expId )

</pre></font>
<h3>getExpSiteIdByExpId returns the site id (int) for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the site id for this experiment.  Returns None if experiment id not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpSiteIdByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpSiteIdByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpSiteIdByPosition ( self,  position=0 )

</pre></font>
<h3>getExpSiteIdByPosition returns the experiment site id of the experiment at given position.</h3>
<p>        Inputs: position of experiment in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the experiment site id (integer), or None if position &gt;= number of experiments.</p>

<p>        Affects: None</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in expTab.txt parsing metadata row: ' + str( position ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpStartDateTimeByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpStartDateTimeByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpStartDateTimeByExpId ( self,  expId )

</pre></font>
<h3>getExpStartDateTimeByExpId returns the starting date/time of the experiment for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the experiment start date/time in the standard python form of 9 item tuple in UTC.  
        Returns None if experiment id not found.  Since mktime does not go before 1970, I use
        date.c methods, and miss only day of week and DST flag</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpStartDateTimeByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpStartDateTimeByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpStartDateTimeByPosition ( self,  position=0 )

</pre></font>
<h3>getExpStartDateTimeByPosition returns the starting date/time of the experiment at given position.</h3>
<p>        Inputs: position of experiment in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the experiment start date/time in the standard python form of 9 item tuple in UTC.  
        Returns None if position &gt;= number of experiments.  Since mktime does not go before 1970, I use
        date.c methods, and miss only day of week and DST flag</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpUrlByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpUrlByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpUrlByExpId ( self,  expId )

</pre></font>
<h3>getExpUrlByExpId returns the experiment url for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the experiment url (string).  Returns None if experiment id not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getExpUrlByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getExpUrlByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getExpUrlByPosition ( self,  position=0 )

</pre></font>
<h3>getExpUrlByPosition returns the experiment url of the experiment at given position.</h3>
<p>        Inputs: position of experiment in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the experiment url, or None if position &gt;= number of experiments.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getKinstByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getKinstByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getKinstByExpId ( self,  expId )

</pre></font>
<h3>getKinstByExpId returns the kinst (integer) of the experiment for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the experiment kinst (integer).  Returns None if experiment id not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in expTab.txt parsing metadata row: ' + str( position ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getKinstByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getKinstByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getKinstByPosition ( self,  position=0 )

</pre></font>
<h3>getKinstByPosition returns the kinst (kind of instrument code) of the experiment at given position.</h3>
<p>        Inputs: position of file in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the kindat (kind of data code) of the file at given position as an integer.  
        Returns None if position &gt;= number of files.</p>

<p>        Affects: None</p>

<p>        Exceptions: Thrown if kindat column cannot be parsed into an integer</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in expTab.txt parsing metadata row: ' + str( position ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getLine"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getLine&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getLine ( self,  position )

</pre></font>
<h3>getLine returns the line at a given position.  Returns None if position &gt; number of lines.</h3>
<p>        Inputs:  position - position in file.  First line = 0</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSecurityByExpId"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSecurityByExpId&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSecurityByExpId ( self,  expId )

</pre></font>
<h3>getSecurityByExpId returns the security code (integer) of the experiment for a given experiment id.</h3>
<p>        Inputs: Experiment Id (integer).</p>

<p>        Returns: the security code (integer).  Returns None if experiment id not found.</p>

<p>        Affects: None</p>

<p>        Exceptions: None</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in expTab.txt parsing metadata row: ' + str( position ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="getSecurityByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">getSecurityByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
getSecurityByPosition ( self,  position=0 )

</pre></font>
<h3>getSecurityByPosition returns the security code of the experiment at given position.</h3>
<p>        Inputs: position of file in list (first position is zero).  Defaults to first.</p>

<p>        Returns: the security code (integer) of the file at given position as an integer.  
        Returns None if position &gt;= number of files.</p>

<p>        Affects: None</p>

<p>        Exceptions: Thrown if security column cannot be parsed into an integer</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in expTab.txt parsing metadata row: ' + str( position ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setExpEndDateTimeByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setExpEndDateTimeByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setExpEndDateTimeByPosition (
        self,
        endDateTime,
        position=0,
        )

</pre></font>
<h3>setExpEndDateTimeByPosition sets a new MadrigalExperiment end date and time by position.</h3>
<p>        Inputs:</p>
<p>            endDateTime - a python datetime object to set the exp end date and time to.</p>

<p>            position - which experiment row to change - defaults to 0</p>


<p>        Returns: None.</p>

<p>        Affects: sets exp end date and time in self.__fileList.</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setExpIdByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setExpIdByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setExpIdByPosition (
        self,
        position,
        expId,
        )

</pre></font>
<h3>setExpIdByPosition sets the experiment id of the experiment at given position.</h3>
<p>        Inputs:</p>
<p>            position - position of experiment in list (first position is zero).</p>

<p>            expId - the new experiment id to use</p>


<p>        Returns: None.</p>

<p>        Affects: sets the experiment id of the experiment at given position</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format, or
        position not found.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in setExpIdByPosition with args %s: %s' %(str( position, expId ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setExpKinstByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setExpKinstByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setExpKinstByPosition (
        self,
        position,
        expKinst,
        )

</pre></font>
<h3>setExpKinstByPosition sets the experiment kinst of the experiment at given position.</h3>
<p>        Inputs:</p>
<p>            position - position of experiment in list (first position is zero).</p>

<p>            expKinst - the new experiment kinst to use</p>


<p>        Returns: None.</p>

<p>        Affects: sets the experiment kinst of the experiment at given position</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format, or
        position not found.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in setExpKinstByPosition with args %s: %s' %(str( position, expKinst ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setExpNameByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setExpNameByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setExpNameByPosition (
        self,
        position,
        expName,
        )

</pre></font>
<h3>setExpNameByPosition sets the experiment name of the experiment at given position.</h3>
<p>        Inputs:</p>
<p>            position - position of experiment in list (first position is zero).</p>

<p>            expName - the new experiment name to use</p>


<p>        Returns: None.</p>

<p>        Affects: sets the experiment name of the experiment at given position</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format, or
        position not found.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in setExpNameByPosition with args %s: %s' %(str( position, expName ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setExpSiteIdByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setExpSiteIdByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setExpSiteIdByPosition (
        self,
        position,
        expSiteId,
        )

</pre></font>
<h3>setExpSiteIdByPosition sets the experiment site id of the experiment at given position.</h3>
<p>        Inputs:</p>
<p>            position - position of experiment in list (first position is zero).</p>

<p>            expSiteId - the new experiment site id to use</p>


<p>        Returns: None.</p>

<p>        Affects: sets the experiment site id of the experiment at given position</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format, or
        position not found.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in setExpSiteIdByPosition with args %s: %s' %(str( position, expSiteId ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setExpStartDateTimeByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setExpStartDateTimeByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setExpStartDateTimeByPosition (
        self,
        startDateTime,
        position=0,
        )

</pre></font>
<h3>setExpStartDateTimeByPosition sets a new MadrigalExperiment start date and time by position.</h3>
<p>        Inputs:</p>
<p>            startDateTime - a python datetime object to set the exp start date and time to.</p>

<p>            position - which experiment row to change - defaults to 0</p>


<p>        Returns: None.</p>

<p>        Affects: sets exp start date and time in self.__fileList.</p>

<p>        Exceptions: None</p>



        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setExpUrlByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setExpUrlByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setExpUrlByPosition (
        self,
        position,
        expUrl,
        )

</pre></font>
<h3>setExpUrlByPosition sets the experiment url of the experiment at given position.</h3>
<p>        Inputs:</p>
<p>            position - position of experiment in list (first position is zero).</p>

<p>            expUrl - the new experiment url to use</p>


<p>        Returns: None.</p>

<p>        Affects: sets the experiment url of the experiment at given position</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format, or
        position not found.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in setExpUrlByPosition with args %s: %s' %(str( position, expUrl ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="setSecurityByPosition"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">setSecurityByPosition&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
setSecurityByPosition (
        self,
        position,
        securityCode,
        )

</pre></font>
<h3>setSecurityByPosition sets the security code (integer) of the experiment at given position.</h3>
<p>        Inputs:</p>
<p>            position - position of experiment in list (first position is zero).</p>

<p>            securityCode - the new experiment security code (integer) to use</p>


<p>        Returns: None.</p>

<p>        Affects: sets the security code of the experiment at given position</p>

<p>        Exceptions: MadrigalError if any item in row cannot be cast to correct format, or
        position not found.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError('Error in setSecurityByPosition with args %s: %s' %(str( position, securityCode ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) ) )<br>

</td></tr>
</table>

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="sortByDateSite"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">sortByDateSite&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
sortByDateSite ( self )

</pre></font>
<p>sortByDateSite will resort self.__fileList so that experiments are listed first by experiment
        start date, and then by site</p>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="writeMetadata"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">writeMetadata&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
writeMetadata ( self,  newFullPath=None )

</pre></font>
<h3>writeMetadata writes a new version of the expTab.txt file.</h3>
<p>        Inputs: newFullPath:  a new path to write the expTab.txt file to, if
        not the same as the original metadata file opened.  Defaults to None, which overwrites
        metadata file that was read from.</p>

<p>        Returns: None.</p>

<p>        Affects: Writes updated version of metadata file.</p>

<p>        Exceptions: If unable to write file</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Exceptions">Exceptions</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
madrigal.admin.MadrigalError("Unable to write metadata file " + str( newFullPath ), traceback.format_exception(sys.exc_info() [ 0 ], sys.exc_info() [ 1 ], sys.exc_info() [ 2 ] ) )<br>

</td></tr>
</table>
</td></tr>
</td></tr>
</table>

        </td>
        </tr>
        </table>

        <hr>

        <p><i><a href="index.html">Table of Contents</a></i></p>

        <font size="-2"><i>This document was automatically generated
        on Fri May 30 14:39:57 2008 by
        <a href="http://happydoc.sourceforge.net">HappyDoc</a> version
        r1_5</i></font>
        
        </body>
        </html>
        
